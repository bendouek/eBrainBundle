<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ben Douek</title>
    <script src="https://unpkg.com/isotope-layout@3.0.6/dist/isotope.pkgd.min.js"></script>
    <link rel="stylesheet" href="css/grid.css">
    <link rel="stylesheet" href="css/mp3.css">
    <link rel="stylesheet" href="css/carousel.css">

    <style>
        body {
            font-family: monospace;
            font-size: 1.5em;
            background-color: white;
            color: black;
            margin: 0;
            padding: 0;
        }
        header, footer {
            text-align: center;
            padding: 1rem 0;
            /*border-bottom: 1px solid #000;
            border-top: 1px solid #000;*/
        }
        nav {
            /*border-bottom: 1px solid #000;*/
            text-align: center;
            margin: 10px 0;
            padding-bottom: 8px;
        }
        nav a {
            color: black;
            text-decoration: none;
            padding: 0 10px;
        }
        #tag-buttons {
            text-align: center;
            margin: 15px 0;
        }
        #tag-buttons button {
            margin: 0 5px;
            padding: 5px 10px;
            border: 1px solid #000;
            background-color: #f9f9f9;
            cursor: pointer;
            font-size: 0.8em;
        }
        #tag-buttons button.active {
            background-color: #000;
            color: #fff;
        }
        main {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
        }
        a{
            color: black;
        }
        a:visted{
            color: black;
        }
        article h2 {
            margin: 0 0 5px;
            padding: 0;
        }
        article p {
             display: inline-block; text-align: left;
        }
        footer {
            margin-top: 20px;
            border-top: 1px solid #000;
        }
        /* Container styling */
        .iframe-container {
          width: 100%; /* Make the container responsive */
          margin: 0 auto; /* Center the container */
          position: relative;
        }

        /* Iframe styling */
        .iframe-container iframe {
          display: block;
          width: 100%; /* Make the iframe take full width of the container */
          border: none; /* Remove the default border */
        }

        .osc{
            width: 300px;
            height: 300px;
            background: url("logo.jpeg");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        canvas {
            display: block;
            width: 230px;
            height: 220px;
            margin-left: 0px;
            padding-top: 30px;
        }
        #controls {
            width: 200px;
            z-index: 10;
            text-align: center;
            color: white;
        }
        #frequency-slider {
            width: 300px;
            accent-color: #444;
        }

        /* Responsive layout for smaller screens */
        @media (max-width: 900px) {
            #blog-container {
                grid-template-columns: repeat(2, 1fr); /* 2 columns for medium screens */
            }
            .grid-item {
                width: 45%;
            }
        }

        @media (max-width: 600px) {
            #blog-container {
                grid-template-columns: 1fr; /* 1 column for small screens */
            }
            .grid-item {
                width: 85%;
            }
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">Projects</h1>

    <div id="tag-buttons">
        <button onclick="filterPosts('all')" class="active">All</button>
        <button onclick="filterPosts('lessons')">Lessons</button>
        <button onclick="filterPosts('electronics')">Electronics</button>
        <button onclick="filterPosts('coding')">Coding</button>
        <button onclick="filterPosts('education')">Education</button>
        <button onclick="filterPosts('projects')">Projects</button>
    </div>
    
    <main id="blog-container" class="grid">
       
    </main>
    
    <footer>
        <p>&copy; 2025 Robot In A Can</p>
    </footer>

    <script id="jsonBlog" src="blogPost.js"></script>

    <script src="js/main.js">
    </script>

    <script>
        const container = document.createElement('div');
        container.classList.add('osc');
        const canvas = document.createElement('canvas');
        container.appendChild(canvas)
        document.getElementById("oscilliscope").appendChild(container);
        const ctx = canvas.getContext('2d');

        // Adjust canvas size
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Visualization settings
        let currentVisualization = 'lissajous';
        let frequency = 10; // Adjustable via slider

        const frequencySlider = document.getElementById('frequency-slider');

        // Particle class definition
        class Particle {
            constructor(x, y) {
                this.baseX = x;
                this.baseY = y;
                this.x = x;
                this.y = y;
                this.velocityX = 0;
                this.velocityY = 0;
                this.amplitude = 0;
            }

            updateChladni() {
                const normalizedX = (this.baseX / canvas.width - 0.5) * plateSize;
                const normalizedY = (this.baseY / canvas.height - 0.5) * plateSize;
                this.amplitude = 0;
                for (let mx = 1; mx <= 5; mx++) {
                    for (let my = 1; my <= 5; my++) {
                        this.amplitude += Math.sin((mx * Math.PI * normalizedX) / plateSize) *
                                         Math.sin((my * Math.PI * normalizedY) / plateSize) *
                                         Math.sin(2 * Math.PI * frequency * 0.001);
                    }
                }
                const force = this.amplitude * 0.1;
                const dx = this.baseX - canvas.width / 2;
                const dy = this.baseY - canvas.height / 2;
                const distance = Math.sqrt(dx * dx + dy * dy);

                this.velocityX += (force * dx) / (distance + 1);
                this.velocityY += (force * dy) / (distance + 1);
                this.velocityX *= 0.9;
                this.velocityY *= 0.9;
                this.x += this.velocityX;
                this.y += this.velocityY;
            }

            draw() {
                const brightness = Math.abs(this.amplitude) * 255;
                ctx.fillStyle = `rgba(${brightness}, ${brightness}, ${brightness}, 0.8)`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 10, 0, 2 * Math.PI);
                ctx.fill();
            }
        }

        // Chladni particles setup
        const plateSize = 100;
        const particleCount = 10000;
        const particles = Array.from({ length: particleCount }, () => {
            return new Particle(
                Math.random() * canvas.width,
                Math.random() * canvas.height
            );
        });

        // Lissajous figure setup
        let lissajousTime = 0;
        frequency = document.getElementById('frequency-slider').value;
        function drawLissajous() {
            const a = 5 + ((frequency/100) % 5);
            const b = 4 + (((frequency/100) + 1) % 4);
            const delta = Math.PI / 2;

            lissajousTime += 0.01;
            const decay = 0.03; // Adjust to control trail fade

            ctx.fillStyle = `rgba(0, 0, 0, ${decay})`;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.strokeStyle = 'white';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let t = 0; t < Math.PI * 2; t += 0.01) {
                const x = canvas.width / 2 + canvas.width / 2 * Math.sin(a * t + delta + lissajousTime);
                const y = canvas.height / 2 + canvas.height / 2 * Math.sin(b * t + lissajousTime);
                if (t === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();
        }

        // Circle drawing setup
        function drawCircles() {
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 3;

            const maxCircles = 20;
            for (let i = 0; i < maxCircles; i++) {
                const radius = (canvas.width / 4) * (i / maxCircles) + frequency;
                ctx.beginPath();
                ctx.arc(canvas.width / 2, canvas.height / 2, radius, 0, 2 * Math.PI);
                ctx.stroke();
            }
        }

        // Animation loop
        function animate() {
            if (currentVisualization !== 'lissajous') {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }

            switch (currentVisualization) {
                case 'chladni':
                    particles.forEach(p => {
                        p.updateChladni();
                        p.draw();
                    });
                    break;
                case 'lissajous':
                    drawLissajous();
                    break;
                case 'circles':
                    drawCircles();
                    break;
            }

            requestAnimationFrame(animate);
        }

        
        // Update frequency
        frequencySlider.addEventListener('input', (e) => {
            frequency = parseInt(e.target.value, 10);
        });

        // Start animation
        animate();
    </script>
</body>
</html>
